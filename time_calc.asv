function [tempo, time_sig] = time_calc(midi)

for i = 1:size(midi.track,2)

    tempo = midi.track(:).messages(find([midi.track(i).messages(:).type]==81)).data;
    
end

tempo = tempo(1:3);

h = [16^4;16^2;16^0];

tempo = (60 * 10^6) / sum(tempo .* h);

time_sig = midi.track(:).messages(find([midi.track(:).messages(:).type]==88)).data;

time_sig = time_sig(1);

end